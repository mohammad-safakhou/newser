# Service identity and runtime toggles
NEWSER_ENV=dev
NEWSER_GENERAL_DEBUG=false
NEWSER_GENERAL_LOG_LEVEL=info
NEWSER_GENERAL_JWT_SECRET=change-me
NEWSER_SERVER_JWT_SECRET=${NEWSER_GENERAL_JWT_SECRET}
NEWSER_SERVER_ADDRESS=:10001

# API surface controls
NEWSER_SERVER_PLAN_DRY_RUN_ENABLED=true
NEWSER_SERVER_PLAN_ESTIMATE_MODE=auto
NEWSER_SERVER_RUN_MANIFEST_ENABLED=true
NEWSER_SERVER_RUN_STREAM_ENABLED=true

# Database configuration (Go config + legacy envs)
NEWSER_STORAGE_POSTGRES_HOST=localhost
NEWSER_STORAGE_POSTGRES_PORT=5432
NEWSER_STORAGE_POSTGRES_USER=newser
NEWSER_STORAGE_POSTGRES_PASSWORD=changeme
NEWSER_STORAGE_POSTGRES_DB=newser
NEWSER_STORAGE_POSTGRES_SSLMODE=disable
POSTGRES_HOST=${NEWSER_STORAGE_POSTGRES_HOST}
POSTGRES_PORT=${NEWSER_STORAGE_POSTGRES_PORT}
POSTGRES_USER=${NEWSER_STORAGE_POSTGRES_USER}
POSTGRES_PASSWORD=${NEWSER_STORAGE_POSTGRES_PASSWORD}
POSTGRES_DB=${NEWSER_STORAGE_POSTGRES_DB}
DATABASE_URL=

# Redis configuration
NEWSER_STORAGE_REDIS_HOST=localhost
NEWSER_STORAGE_REDIS_PORT=6379
NEWSER_STORAGE_REDIS_PASSWORD=
NEWSER_STORAGE_REDIS_DB=0
REDIS_URL=

# Capability registry + signing
NEWSER_CAPABILITY_SIGNING_SECRET=capability-secret-change-me

# Third-party APIs
OPENAI_API_KEY=
NEWSER_LLM_PROVIDERS_OPENAI_API_KEY=${OPENAI_API_KEY}
NEWSER_LLM_PROVIDERS_OPENAI_BASE_URL=https://api.openai.com/v1
NEWSER_SOURCES_NEWSAPI_API_KEY=
NEWSER_SOURCES_WEB_SEARCH_BRAVE_API_KEY=
NEWSER_SOURCES_WEB_SEARCH_SERPER_API_KEY=

# Memory configuration
NEWSER_MEMORY_EPISODIC_ENABLED=true
NEWSER_MEMORY_EPISODIC_RETENTION_DAYS=90
NEWSER_MEMORY_SEMANTIC_ENABLED=false
NEWSER_MEMORY_SEMANTIC_EMBEDDING_MODEL=text-embedding-3-large
NEWSER_MEMORY_SEMANTIC_SEARCH_TOP_K=5
NEWSER_MEMORY_SEMANTIC_SEARCH_THRESHOLD=0.8

# Telemetry + observability
NEWSER_TELEMETRY_ENABLED=true
NEWSER_TELEMETRY_METRICS_PORT=9090
NEWSER_TELEMETRY_LOG_FILE=./logs/telemetry.log
NEWSER_TELEMETRY_COST_TRACKING=true
NEWSER_TELEMETRY_PERIODIC_LOGS=false
NEWSER_TELEMETRY_OTLP_ENDPOINT=otel-collector:4317

# Security sandbox
NEWSER_SECURITY_SANDBOX_PROVIDER=docker
NEWSER_SECURITY_POLICY_FILE=config/security_policy.yaml
NEWSER_SECURITY_DEFAULT_TIMEOUT=120s
NEWSER_SECURITY_DEFAULT_CPU=1
NEWSER_SECURITY_DEFAULT_MEMORY=1Gi

# Web UI / CORS
CORS_ALLOW_ORIGINS=http://localhost:3000
JWT_SECRET=${NEWSER_SERVER_JWT_SECRET}

# Misc runtime toggles
NEWSER_CAPABILITY_REQUIRED_TOOLS=
NEWSER_LLM_ROUTING_PLANNING=gpt-5
NEWSER_LLM_ROUTING_CHATTING=gpt-5
NEWSER_LLM_ROUTING_ANALYSIS=gpt-5
NEWSER_LLM_ROUTING_SYNTHESIS=gpt-5
NEWSER_LLM_ROUTING_RESEARCH=gpt-5
NEWSER_LLM_ROUTING_FALLBACK=gpt-5-nano
